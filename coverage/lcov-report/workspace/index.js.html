<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for workspace/index.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../prettify.css" />
    <link rel="stylesheet" href="../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../index.html">all files</a> / <a href="index.html">workspace/</a> index.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">77.38% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>65/84</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">66.28% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>57/86</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">80% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>4/5</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">79.01% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>64/81</span>
      </div>
      <div class='fl pad1y'>
        <span class="strong">11 statements, 17 branches</span>
        <span class="quiet">Ignored</span>  &nbsp;&nbsp;&nbsp;&nbsp;
      </div>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147</td><td class="line-coverage quiet"><span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">21×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">15×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">10×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">9×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">7×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-yes">6×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">5×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">2×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1×</span></td><td class="text"><pre class="prettyprint lang-js">var timeago = function(){};
&nbsp;
timeago.prototype.simple = function(date_time) {
    // today date and time in milliseconds 
    var today = Date.now();
    var dateParse = Date.parse(date_time);
    
    //We will perform some test - if there is error, we will throw error to console and exit, no change will be on the data.
    try {
        // We need to check if we able to parse the Date (if the result is NaN, this is an issue)
        if(dateParse !== dateParse) throw "timeago-simple: Please check date and time format! Unable to parse the date &amp; time: " + date_time;
    }
    catch(err) {
        console.error(err);
        return (date_time);
    }
    
    if((dateParse - today) &lt; 0) {
		return pastCalc(date_time);
	} else {
		return futureCalc(date_time);
	}
};
&nbsp;
&nbsp;
// General help functions for time calculations
function pastCalc(timeData){
&nbsp;
    // today date and time in milliseconds 
    var today = Date.now();
        
    // parsing post date and time into milliseconds format
    timeData = Date.parse(timeData);
&nbsp;
    var seconds = (today - timeData) / 1000;
    var minutes = (seconds / 60);
    var hours = (seconds / 3600);
    if(seconds &lt; 60 &amp;&amp; minutes &lt; 1) {
        return (seconds === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >Math.round(seconds) + " second ago" </span>: Math.round(seconds) + " seconds ago");
    }
    if(minutes &lt; 60 &amp;&amp; hours &lt; 1) {
        return (minutes === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >Math.round(minutes) + " minute ago" </span>: Math.round(minutes) + " minutes ago");
    }
    if(hours &gt; 24){
        var days = hours / 24;
        <span class="missing-if-branch" title="else path not taken" >E</span>if (days &gt; 30) {
            var month = days / 30;
            if (month &gt; 12) {
                var years = month / 12;
                <span class="missing-if-branch" title="else path not taken" >E</span>if (years &gt; 0) {
                    return (years === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >Math.ceil(years) + " year ago" </span>: Math.ceil(years) + " years ago");
                }
            }
            return (Math.round(month) + " month ago");
        }
<span class="cstat-no" title="statement not covered" >        return (days === 1 ? Math.round(days) + " day ago" : Math.round(days) + " days ago");</span>
    } else {
        return (hours === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >Math.round(hours) + " hour ago" </span>: Math.round(hours) + " hours ago");
    }
        
}
&nbsp;
function futureCalc(timeData){
&nbsp;
    // today date and time in milliseconds 
    var today = Date.now();
     
    // parsing post date and time into milliseconds format
    timeData = Date.parse(timeData);
    var seconds = (timeData - today) / 1000;
    var minutes = (seconds / 60);
    var hours = (seconds / 3600);
    if(seconds &lt; 60 &amp;&amp; minutes &lt; 1) {
        return (seconds === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >"in " + Math.round(seconds) + " second" </span>: "in " + Math.round(seconds) + " seconds");
    }
    if(minutes &lt; 60 &amp;&amp; hours &lt; 1) {
        return (minutes === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >"in " + Math.round(minutes) + " minute" </span>: "in " + Math.round(minutes) + " minutes");
    }
    if(hours &gt; 24){
        var days = hours / 24;
        <span class="missing-if-branch" title="else path not taken" >E</span>if (days &gt; 30) {
            var month = days / 30;
            if (month &gt; 12) {
                var years = month / 12;
                <span class="missing-if-branch" title="else path not taken" >E</span>if (years &gt; 0) {
                    return (years === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >"in " + Math.ceil(years) + " year" </span>: "in " + Math.ceil(years) + " years"); 
                }
            }
           return ("in " + Math.round(month) + " month"); 
        }
<span class="cstat-no" title="statement not covered" >        return (days === 1 ? "in " + Math.round(days) + " day" : "in " + Math.round(days) + " days");</span>
    } else {
        return (hours === 1 ? <span class="branch-0 cbranch-no" title="branch not covered" >"in " + Math.round(hours) + " hour" </span>: "in " + Math.round(hours) + " hours");
    }
}
&nbsp;
// Future calculation
timeago.prototype.future = <span class="fstat-no" title="function not covered" >function(timeData) {</span>
<span class="cstat-no" title="statement not covered" >    console.warn("timeago-simple: .future function is depricated! Please use .simple for both past and future dates.");</span>
    // today date and time in milliseconds 
<span class="cstat-no" title="statement not covered" >    var today = Date.now();</span>
&nbsp;
    //We will perform some test - if there is error, we will throw error to console and exit, no change will be on the data.
<span class="cstat-no" title="statement not covered" >    try {</span>
        // We need to check if we able to parse the Date (if the result is NaN, this is an issue)
<span class="cstat-no" title="statement not covered" >        if(Date.parse(timeData) !== Date.parse(timeData)) <span class="cstat-no" title="statement not covered" >throw "timeago-simple: Please check date and time format! Unable to parse the date &amp; time: " + timeData;</span></span>
        // Need to check if it's really future date to parse
<span class="cstat-no" title="statement not covered" >        if((Date.parse(timeData) - today) &lt; 0) <span class="cstat-no" title="statement not covered" >throw "timeago-simple: Looks like it's more relevant case for timeago.simple"; </span></span>
    }
    catch(err) {
<span class="cstat-no" title="statement not covered" >        console.error(err);</span>
<span class="cstat-no" title="statement not covered" >        return (timeData);</span>
    }
  
    // parsing post date and time into milliseconds format
<span class="cstat-no" title="statement not covered" >    timeData = Date.parse(timeData);</span>
<span class="cstat-no" title="statement not covered" >    var seconds = (timeData - today) / 1000;</span>
<span class="cstat-no" title="statement not covered" >    var minutes = (seconds / 60);</span>
<span class="cstat-no" title="statement not covered" >    var hours = (seconds / 3600);</span>
    /* istanbul ignore if */
<span class="cstat-no" title="statement not covered" >    if(seconds &lt; 60 &amp;&amp; minutes &lt; 1) {</span>
<span class="cstat-skip" title="statement not covered" >        return (seconds === 1 ? "in " + Math.round(seconds) + " second" : "in " + Math.round(seconds) + " seconds");</span>
    }
    /* istanbul ignore if */
<span class="cstat-no" title="statement not covered" >    if(minutes &lt; 60 &amp;&amp; hours &lt; 1) {</span>
<span class="cstat-skip" title="statement not covered" >    	return (minutes === 1 ? "in " + Math.round(minutes) + " minute" : "in " + Math.round(minutes) + " minutes");</span>
    }
    /* istanbul ignore if */
<span class="cstat-no" title="statement not covered" >    if(hours &gt; 24){</span>
<span class="cstat-skip" title="statement not covered" >        var days = hours / 24;</span>
<span class="cstat-skip" title="statement not covered" >        if (days &gt; 30) {</span>
<span class="cstat-skip" title="statement not covered" >            var month = days / 30;</span>
<span class="cstat-skip" title="statement not covered" >            if (month &gt; 12) {</span>
<span class="cstat-skip" title="statement not covered" >                var years = month / 12;</span>
<span class="cstat-skip" title="statement not covered" >                if (years &gt; 0) {</span>
<span class="cstat-skip" title="statement not covered" >                    return (years === 1 ? "in " + Math.ceil(years) + " year" : "in " + Math.ceil(years) + " years");</span>
                }
            }
<span class="cstat-skip" title="statement not covered" >	        return ("in " + Math.round(month) + " month");</span>
        }
<span class="cstat-skip" title="statement not covered" >        return (days === 1 ? "in " + Math.round(days) + " day" : "in " + Math.round(days) + " days");</span>
    }
<span class="cstat-no" title="statement not covered" >    return (hours === 1 ? "in " + Math.round(hours) + " hour" : "in " + Math.round(hours) + " hours");</span>
};
&nbsp;
&nbsp;
module.exports = new timeago();</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="http://istanbul-js.org/" target="_blank">istanbul</a> at Tue Sep 18 2018 08:20:58 GMT+0000 (UTC)
</div>
</div>
<script src="../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../sorter.js"></script>
</body>
</html>
